<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled</title>
    <meta name="description" content="Untitled - Hongwei Zhao's Blog">
    <meta name="author" content="Hongwei Zhao">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Code Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" id="hljs-theme-dark">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" id="hljs-theme-light" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    
    <!-- KaTeX for Math -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    
    <style>
        :root {
            /* Light Theme */
            --primary-color: #2980b9;
            --primary-hover: #1a5276;
            --link-color: #c0392b;
            --text-color: #333;
            --text-light: #666;
            --text-muted: #999;
            --bg-color: #fff;
            --bg-secondary: #f8f9fa;
            --bg-code: #f5f5f5;
            --border-color: #e5e7eb;
            --shadow: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-lg: 0 4px 15px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] {
            --primary-color: #5dade2;
            --primary-hover: #85c1e9;
            --link-color: #e74c3c;
            --text-color: #e5e7eb;
            --text-light: #9ca3af;
            --text-muted: #6b7280;
            --bg-color: #1a1a2e;
            --bg-secondary: #16213e;
            --bg-code: #0f0f23;
            --border-color: #374151;
            --shadow: 0 1px 3px rgba(0,0,0,0.3);
            --shadow-lg: 0 4px 15px rgba(0,0,0,0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-color);
            background: var(--bg-color);
            transition: background-color 0.3s, color 0.3s;
        }

        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--primary-hover);
            text-decoration: underline;
        }

        /* Layout */
        .page-wrapper {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            gap: 3rem;
        }

        /* Sidebar TOC */
        .toc-sidebar {
            width: 260px;
            flex-shrink: 0;
            position: sticky;
            top: 2rem;
            height: fit-content;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }

        .toc-container {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
        }

        .toc-container h3 {
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toc-container ul {
            list-style: none;
        }

        .toc-container li {
            margin-bottom: 0.5rem;
        }

        .toc-container a {
            font-size: 0.9rem;
            color: var(--text-light);
            display: block;
            padding: 0.25rem 0;
            border-left: 2px solid transparent;
            padding-left: 0.75rem;
            transition: all 0.2s;
        }

        .toc-container a:hover,
        .toc-container a.active {
            color: var(--primary-color);
            border-left-color: var(--primary-color);
            text-decoration: none;
        }

        .toc-container ul ul {
            margin-left: 1rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            min-width: 0;
            max-width: 800px;
        }

        /* Header */
        .post-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .back-link:hover {
            color: var(--primary-color);
            text-decoration: none;
        }

        .post-header h1 {
            font-size: 2.25rem;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .post-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .post-meta span {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .post-meta i {
            color: var(--text-muted);
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tag {
            display: inline-block;
            font-size: 0.8rem;
            background: var(--bg-secondary);
            color: var(--text-light);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            border: 1px solid var(--border-color);
            transition: all 0.2s;
        }

        .tag:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Article Content */
        .post-content {
            font-size: 1rem;
            line-height: 1.9;
        }

        .post-content h1,
        .post-content h2,
        .post-content h3,
        .post-content h4,
        .post-content h5,
        .post-content h6 {
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
            line-height: 1.4;
            color: var(--text-color);
        }

        .post-content h1 { font-size: 1.875rem; }
        .post-content h2 { 
            font-size: 1.5rem; 
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .post-content h3 { font-size: 1.25rem; }
        .post-content h4 { font-size: 1.125rem; }

        .post-content p {
            margin-bottom: 1.25rem;
        }

        .post-content ul,
        .post-content ol {
            margin: 1.25rem 0;
            padding-left: 1.5rem;
        }

        .post-content li {
            margin-bottom: 0.5rem;
        }

        .post-content blockquote {
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-left: 4px solid var(--primary-color);
            border-radius: 0 8px 8px 0;
            color: var(--text-light);
            font-style: italic;
        }

        .post-content blockquote p:last-child {
            margin-bottom: 0;
        }

        /* Code */
        .post-content code {
            font-family: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
            font-size: 0.9em;
            background: var(--bg-code);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            color: var(--link-color);
        }

        .post-content pre {
            margin: 1.5rem 0;
            padding: 1.25rem;
            background: var(--bg-code);
            border-radius: 10px;
            overflow-x: auto;
            border: 1px solid var(--border-color);
        }

        .post-content pre code {
            background: none;
            padding: 0;
            color: inherit;
            font-size: 0.875rem;
            line-height: 1.6;
        }

        /* Images */
        .post-content img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 1.5rem 0;
            box-shadow: var(--shadow-lg);
        }

        /* Tables */
        .post-content table {
            width: 100%;
            margin: 1.5rem 0;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        .post-content th,
        .post-content td {
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-color);
            text-align: left;
        }

        .post-content th {
            background: var(--bg-secondary);
            font-weight: 600;
        }

        .post-content tr:nth-child(even) {
            background: var(--bg-secondary);
        }

        /* Math */
        .math-display {
            margin: 1.5rem 0;
            overflow-x: auto;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 8px;
        }

        /* Anchor links */
        .anchor-link {
            opacity: 0;
            margin-left: 0.5rem;
            color: var(--text-muted);
            font-weight: 400;
            transition: opacity 0.2s;
        }

        .post-content h2:hover .anchor-link,
        .post-content h3:hover .anchor-link,
        .post-content h4:hover .anchor-link {
            opacity: 1;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            box-shadow: var(--shadow-lg);
            transition: transform 0.2s, background 0.2s;
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            background: var(--primary-hover);
        }

        /* Comments Section */
        .comments-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .comments-section h3 {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Footer */
        .post-footer {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .toc-sidebar {
                display: none;
            }
            
            .page-wrapper {
                padding: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .post-header h1 {
                font-size: 1.75rem;
            }
            
            .post-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .theme-toggle {
                bottom: 1rem;
                right: 1rem;
                width: 44px;
                height: 44px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- TOC Sidebar -->
        <aside class="toc-sidebar">
            <div class="toc-container">
                <h3><i class="fas fa-list"></i> 目录</h3>
                <div class="toc">
<ul>
<li><a href="#类和对象">类和对象</a><ul>
<li><a href="#定义类">定义类</a></li>
<li><a href="#类变量和实例变量">类变量和实例变量</a><ul>
<li><a href="#类变量">类变量</a></li>
<li><a href="#实例变量">实例变量</a></li>
<li><a href="#局部变量">局部变量</a></li>
</ul>
</li>
<li><a href="#实例方法静态方法和类方法">实例方法、静态方法和类方法</a><ul>
<li><a href="#实例方法">实例方法</a></li>
<li><a href="#类方法">类方法</a></li>
<li><a href="#静态方法">静态方法</a></li>
</ul>
</li>
<li><a href="#__init__">__init__</a></li>
<li><a href="#python类对象的使用">Python类对象的使用</a></li>
<li><a href="#self用法">self用法</a></li>
<li><a href="#super-函数">super() 函数</a></li>
<li><a href="#访问可见性问题">访问可见性问题</a></li>
<li><a href="#面向对象的支柱">面向对象的支柱</a></li>
</ul>
</li>
</ul>
</div>

            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <article>
                <header class="post-header">
                    <a href="../../../../index.html" class="back-link">
                        <i class="fas fa-arrow-left"></i> 返回博客列表
                    </a>
                    <h1>Untitled</h1>
                    <div class="post-meta">
                        <span><i class="fas fa-calendar-alt"></i> 2026-01-28</span>
                        <span><i class="fas fa-folder"></i> AINotes/00.Python/03.进阶</span>
                        <span><i class="fas fa-user"></i> Hongwei Zhao</span>
                    </div>
                    <div class="tags">
                        
                    </div>
                </header>

                <div class="post-content">
                    <h2 id="类和对象">类和对象<a class="anchor-link" href="#类和对象" title="Permanent link">&para;</a></h2>
<p>&quot;把一组数据结构和处理它们的方法组成对象（object），把相同行为的对象归纳为类（class），通过类的封装（encapsulation）隐藏内部细节，通过继承（inheritance）实现类的特化（specialization）和泛化（generalization），通过多态（polymorphism）实现基于对象类型的动态分派。&quot;</p>
<h3 id="定义类">定义类<a class="anchor-link" href="#定义类" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">class Dog():
    &quot;模拟小狗的简单尝试&quot;
    &quot;&quot;&quot;__init__:每当根据类创建实例时，Python自动运行该方法；每个与类相关联的方法调用都自动传递实参self，他是一个指向实例本身的引用，让实例能够访问类中的属性和方法。&quot;&quot;&quot;
    def __init__(self, name, age):
        &quot;&quot;&quot;初始化属性name age&quot;&quot;&quot;
        self.name = name  #self为前缀的变量可供类中所有方法使用
        self.age = age
        self.color = &quot;black&quot; #给属性指定默认值
    def sit(self):
         &quot;&quot;&quot;模拟小狗蹲下&quot;&quot;&quot;
         print(self.name.title() + &quot; &quot; + &quot;is sitting&quot;)

    def roll_over(self):
         &quot;&quot;&quot;模拟小狗打滚&quot;&quot;&quot;
         print(self.name.title() + &quot; &quot; + &quot; is rolling&quot;)

my_dog = Dog(&quot;willie&quot;, 6)
print(my_dog.name)
my_dog.sit()

</code></pre>
<blockquote>
<p>willie<br />
Willie is sitting</p>
</blockquote>
<p>在Python中可以使用<code>class</code>关键字定义类，然后在类中通过函数来定义方法，这样就可以将对象的动态特征描述出来，代码如下所示。</p>
<h3 id="类变量和实例变量">类变量和实例变量<a class="anchor-link" href="#类变量和实例变量" title="Permanent link">&para;</a></h3>
<p>在类体中，根据变量定义的位置不同，以及定义的方式不同，类属性又可细分为以下 3 种类型：</p>
<ol>
<li>类体中，所有函数之外：此范围定义的变量，称为类属性或类变量；</li>
<li>类体中，所有函数内部：以“self.变量名”的方式定义的变量，称为实例属性或实例变量；</li>
<li>类体中，所有函数内部：以“变量名=变量值”的方式定义的变量，称为局部变量。</li>
</ol>
<h4 id="类变量">类变量<a class="anchor-link" href="#类变量" title="Permanent link">&para;</a></h4>
<p>类变量指的是在类中，但在各个类方法外定义的变量。举个例子：</p>
<pre><code class="language-python">class CLanguage :
    # 下面定义了2个类变量
    name = &quot;C语言中文网&quot;
    add = &quot;http://c.biancheng.net&quot;
    # 下面定义了一个say实例方法
    def say(self, content):
        print(content)
</code></pre>
<p>上面程序中，name 和 add 就属于类变量。</p>
<p>类变量的特点是，所有类的实例化对象都同时共享类变量，也就是说，类变量在所有实例化对象中是作为公用资源存在的。类方法的调用方式有 2 种，既可以使用类名直接调用，也可以使用类的实例化对象调用。</p>
<p>比如，在 CLanguage 类的外部，添加如下代码：</p>
<pre><code class="language-python">#使用类名直接调用
print(CLanguage.name)
print(CLanguage.add)
#修改类变量的值
CLanguage.name = &quot;Python教程&quot;
CLanguage.add = &quot;http://c.biancheng.net/python&quot;
print(CLanguage.name)
print(CLanguage.add)
</code></pre>
<p>程序运行结果为：</p>
<blockquote>
<p>C语言中文网<br />
http://c.biancheng.net<br />
Python教程<br />
http://c.biancheng.net/python</p>
</blockquote>
<p>可以看到，通过类名不仅可以调用类变量，也可以修改它的值。</p>
<p>当然，也可以使用类对象来调用所属类中的类变量（此方式不推荐使用，原因后续会讲）。例如，在 CLanguage 类的外部，添加如下代码：</p>
<pre><code class="language-python">clang = CLanguage()
print(clang.name)
print(clang.add)
</code></pre>
<p>运行程序，结果为：</p>
<blockquote>
<p>C语言中文网<br />
http://c.biancheng.net</p>
</blockquote>
<p>注意，因为类变量为所有实例化对象共有，通过类名修改类变量的值，会影响所有的实例化对象。例如，在 CLanguage 类体外部，添加如下代码：</p>
<pre><code class="language-python">print(&quot;修改前，各类对象中类变量的值：&quot;)
clang1 = CLanguage()
print(clang1.name)
print(clang1.add)
clang2 = CLanguage()
print(clang2.name)
print(clang2.add)
print(&quot;修改后，各类对象中类变量的值：&quot;)
CLanguage.name = &quot;Python教程&quot;
CLanguage.add = &quot;http://c.biancheng.net/python&quot;
print(clang1.name)
print(clang1.add)
print(clang2.name)
print(clang2.add)
</code></pre>
<p>程序运行结果为：</p>
<blockquote>
<p>修改前，各类对象中类变量的值：<br />
C语言中文网<br />
http://c.biancheng.net<br />
C语言中文网<br />
http://c.biancheng.net<br />
修改后，各类对象中类变量的值：<br />
Python教程<br />
http://c.biancheng.net/python<br />
Python教程<br />
http://c.biancheng.net/python</p>
</blockquote>
<p>显然，通过类名修改类变量，会作用到所有的实例化对象（例如这里的 clang1 和 clang2）。</p>
<blockquote>
<p>注意，通过类对象是无法修改类变量的。通过类对象对类变量赋值，其本质将不再是修改类变量的值，而是在给该对象定义新的实例变量（在讲实例变量时会进行详细介绍）。</p>
</blockquote>
<p>值得一提的是，除了可以通过类名访问类变量之外，还可以动态地为类和对象添加类变量。例如，在 CLanguage 类的基础上，添加以下代码：</p>
<pre><code class="language-python">clang = CLanguage()
CLanguage.catalog = 13
print(clang.catalog)
</code></pre>
<p>运行结果为：</p>
<blockquote>
<p>13</p>
</blockquote>
<h4 id="实例变量">实例变量<a class="anchor-link" href="#实例变量" title="Permanent link">&para;</a></h4>
<p>实例变量指的是在任意类方法内部，以“<strong>self.变量名</strong>”的方式定义的变量，其特点是只作用于调用方法的对象。另外，实例变量只能通过对象名访问，无法通过类名访问。</p>
<p>举个例子：</p>
<pre><code class="language-python">class CLanguage :
    def __init__(self):
        self.name = &quot;C语言中文网&quot;
        self.add = &quot;http://c.biancheng.net&quot;
    # 下面定义了一个say实例方法
    def say(self):
        self.catalog = 13
</code></pre>
<p>此 CLanguage 类中，name、add 以及 catalog 都是实例变量。其中，由于 <strong>init</strong>() 函数在创建类对象时会自动调用，而 say() 方法需要类对象手动调用。因此，CLanguage 类的类对象都会包含 name 和 add 实例变量，而只有调用了 say() 方法的类对象，才包含 catalog 实例变量。</p>
<p>例如，在上面代码的基础上，添加如下语句：</p>
<pre><code class="language-python">clang = CLanguage()
print(clang.name)
print(clang.add)
#由于 clang 对象未调用 say() 方法，因此其没有 catalog 变量，下面这行代码会报错
#print(clang.catalog)
clang2 = CLanguage()
print(clang2.name)
print(clang2.add)
#只有调用 say()，才会拥有 catalog 实例变量
clang2.say()
print(clang2.catalog)
</code></pre>
<p>运行结果为：</p>
<blockquote>
<p>C语言中文网<br />
http://c.biancheng.net<br />
C语言中文网<br />
http://c.biancheng.net<br />
13</p>
</blockquote>
<p>前面讲过，通过类对象可以访问类变量，但无法修改类变量的值。这是因为，通过类对象修改类变量的值，不是在给“类变量赋值”，而是定义新的实例变量。例如，在 CLanguage 类体外，添加如下程序：</p>
<pre><code class="language-python">clang = CLanguage()
#clang访问类变量
print(clang.name)
print(clang.add)
clang.name = &quot;Python教程&quot;
clang.add = &quot;http://c.biancheng.net/python&quot;
#clang实例变量的值
print(clang.name)
print(clang.add)
#类变量的值
print(CLanguage.name)
print(CLanguage.add)
</code></pre>
<p>程序运行结果为：</p>
<blockquote>
<p>C语言中文网<br />
http://c.biancheng.net<br />
Python教程<br />
http://c.biancheng.net/python<br />
C语言中文网<br />
http://c.biancheng.net</p>
</blockquote>
<p>显然，通过类对象是无法修改类变量的值的，本质其实是给 clang 对象新添加 name 和 add 这 2 个实例变量。</p>
<blockquote>
<p>类中，实例变量和类变量可以同名，但这种情况下使用类对象将无法调用类变量，它会首选实例变量，这也是不推荐“类变量使用对象名调用”的原因。</p>
</blockquote>
<p>另外，和类变量不同，通过某个对象修改实例变量的值，不会影响类的其它实例化对象，更不会影响同名的类变量。例如：</p>
<pre><code class="language-python">class CLanguage :    name = &quot;xxx&quot;  #类变量    add = &quot;http://&quot;  #类变量    def __init__(self):        self.name = &quot;C语言中文网&quot;   #实例变量        self.add = &quot;http://c.biancheng.net&quot;   #实例变量    # 下面定义了一个say实例方法    def say(self): class CLanguage :
    name = &quot;xxx&quot;  #类变量
    add = &quot;http://&quot;  #类变量
    def __init__(self):
        self.name = &quot;C语言中文网&quot;   #实例变量
        self.add = &quot;http://c.biancheng.net&quot;   #实例变量
    # 下面定义了一个say实例方法
    def say(self):
        self.catalog = 13  #实例变量
clang = CLanguage()
#修改 clang 对象的实例变量
clang.name = &quot;python教程&quot;
clang.add = &quot;http://c.biancheng.net/python&quot;
print(clang.name)
print(clang.add)
clang2 = CLanguage()
print(clang2.name)
print(clang2.add)
#输出类变量的值
print(CLanguage.name)
print(CLanguage.add)       self.catalog = 13  #实例变量clang = CLanguage()#修改 clang 对象的实例变量clang.name = &quot;python教程&quot;clang.add = &quot;http://c.biancheng.net/python&quot;print(clang.name)print(clang.add)clang2 = CLanguage()print(clang2.name)print(clang2.add)#输出类变量的值print(CLanguage.name)print(CLanguage.add)
</code></pre>
<p>程序运行结果为：</p>
<blockquote>
<p>python教程<br />
http://c.biancheng.net/python<br />
C语言中文网<br />
http://c.biancheng.net<br />
xxx<br />
http://</p>
</blockquote>
<p>不仅如此，Python 只支持为特定的对象添加实例变量。例如，在之前代码的基础上，为 clang 对象添加 money 实例变量，实现代码为：</p>
<pre><code class="language-python">clang.money = 30
print(clang.money)
</code></pre>
<h4 id="局部变量">局部变量<a class="anchor-link" href="#局部变量" title="Permanent link">&para;</a></h4>
<p>除了实例变量，类方法中还可以定义局部变量。和前者不同，局部变量直接以“变量名=值”的方式进行定义，例如：</p>
<pre><code class="language-python">class CLanguage :
    # 下面定义了一个say实例方法
    def count(self,money):
        sale = 0.8*money
        print(&quot;优惠后的价格为：&quot;,sale)
clang = CLanguage()
clang.count(100)class CLanguage :    # 下面定义了一个say实例方法    def count(self,money):        sale = 0.8*money        print(&quot;优惠后的价格为：&quot;,sale)clang = CLanguage()clang.count(100)
</code></pre>
<p>通常情况下，定义局部变量是为了所在类方法功能的实现。需要注意的一点是，局部变量只能用于所在函数中，函数执行完成后，局部变量也会被销毁。</p>
<h3 id="实例方法静态方法和类方法">实例方法、静态方法和类方法<a class="anchor-link" href="#实例方法静态方法和类方法" title="Permanent link">&para;</a></h3>
<p>采用 @classmethod 修饰的方法为类方法；采用 @staticmethod 修饰的方法为静态方法；不用任何修改的方法为实例方法。</p>
<h4 id="实例方法">实例方法<a class="anchor-link" href="#实例方法" title="Permanent link">&para;</a></h4>
<p>通常情况下，在类中定义的方法默认都是实例方法。前面章节中，我们已经定义了不只一个实例方法。不仅如此，类的构造方法理论上也属于实例方法，只不过它比较特殊。</p>
<p>比如，下面的类中就用到了实例方法：</p>
<pre><code class="language-python">class CLanguage:
    #类构造方法，也属于实例方法
    def __init__(self):
        self.name = &quot;C语言中文网&quot;
        self.add = &quot;http://c.biancheng.net&quot;
    # 下面定义了一个say实例方法
    def say(self):
        print(&quot;正在调用 say() 实例方法&quot;)
</code></pre>
<p>实例方法最大的特点就是，它最少也要包含一个 self 参数，用于绑定调用此方法的实例对象（Python 会自动完成绑定）。实例方法通常会用类对象直接调用，例如：</p>
<pre><code class="language-python">clang = CLanguage()
clang.say()
</code></pre>
<p>运行结果：</p>
<blockquote>
<p>正在调用 say() 实例方法</p>
</blockquote>
<p>类调用实例方法：如果想通过类名直接调用实例方法，就必须手动为 self 参数传值。</p>
<pre><code class="language-python">class CLanguage:
    def info(self):
        print(&quot;我正在学 Python&quot;)
clang = CLanguage()
#通过类名直接调用实例方法
CLanguage.info(clang) #我正在学 Python

</code></pre>
<p>值得一提的是，上面的报错信息只是让我们手动为 self 参数传值，但并没有规定必须传一个该类的对象，其实完全可以任意传入一个参数，例如：</p>
<pre><code class="language-python">class CLanguage:
    def info(self):
        print(self,&quot;正在学 Python&quot;)
#通过类名直接调用实例方法
CLanguage.info(&quot;zhangsan&quot;)  #zhangsan 正在学 Python
</code></pre>
<p>可以看到，"zhangsan" 这个字符串传给了 info() 方法的 self 参数。显然，无论是 info() 方法中使用 self 参数调用其它类方法，还是使用 self 参数定义新的实例变量，胡乱的给 self 参数传参都将会导致程序运行崩溃。</p>
<p>总的来说，Python 中允许使用类名直接调用实例方法，但必须手动为该方法的第一个 self 参数传递参数，这种调用方法的方式被称为“非绑定方法”。</p>
<blockquote>
<p>用类的实例对象访问类成员的方式称为绑定方法，而用类名调用类成员的方式称为非绑定方法。</p>
</blockquote>
<h4 id="类方法">类方法<a class="anchor-link" href="#类方法" title="Permanent link">&para;</a></h4>
<p>Python 类方法和实例方法相似，它最少也要包含一个参数，只不过类方法中通常将其命名为 cls，Python 会自动将类本身绑定给 cls 参数（注意，绑定的不是类对象）。也就是说，我们在调用类方法时，无需显式为 cls 参数传参。</p>
<p>和 self 一样，cls 参数的命名也不是规定的（可以随意命名），只是 Python 程序员约定俗称的习惯而已。</p>
<p>和实例方法最大的不同在于，类方法需要使用<code>＠classmethod</code>修饰符进行修饰，例如：</p>
<pre><code class="language-python">class CLanguage:
    #类构造方法，也属于实例方法
    def __init__(self):
        self.name = &quot;C语言中文网&quot;
        self.add = &quot;http://c.biancheng.net&quot;
    #下面定义了一个类方法
    @classmethod
    def info(cls):
        print(&quot;正在调用类方法&quot;,cls)
</code></pre>
<blockquote>
<p>注意，如果没有 ＠classmethod，则 Python 解释器会将 fly() 方法认定为实例方法，而不是类方法。</p>
</blockquote>
<p>类方法推荐使用类名直接调用，当然也可以使用实例对象来调用（不推荐）。例如，在上面 CLanguage 类的基础上，在该类外部添加如下代码：</p>
<pre><code class="language-python">#使用类名直接调用类方法
CLanguage.info()
#使用类对象调用类方法
clang = CLanguage()
clang.info()
</code></pre>
<p>运行结果为：</p>
<blockquote>
<p>正在调用类方法 <class '__main__.CLanguage'><br />
正在调用类方法 <class '__main__.CLanguage'></p>
</blockquote>
<h4 id="静态方法">静态方法<a class="anchor-link" href="#静态方法" title="Permanent link">&para;</a></h4>
<p>静态方法，其实就是我们学过的函数，和函数唯一的区别是，静态方法定义在类这个空间（类命名空间）中，而函数则定义在程序所在的空间（全局命名空间）中。</p>
<p>静态方法没有类似 self、cls 这样的特殊参数，因此 Python 解释器不会对它包含的参数做任何类或对象的绑定。也正因为如此，类的静态方法中无法调用任何类属性和类方法。</p>
<p>静态方法需要使用<code>＠staticmethod</code>修饰，例如：</p>
<pre><code class="language-python">class CLanguage:
    @staticmethod
    def info(name,add):
        print(name,add)
</code></pre>
<p>静态方法的调用，既可以使用类名，也可以使用类对象，例如：</p>
<pre><code class="language-python">#使用类名直接调用静态方法
CLanguage.info(&quot;C语言中文网&quot;,&quot;http://c.biancheng.net&quot;)
#使用类对象调用静态方法
clang = CLanguage()
clang.info(&quot;Python教程&quot;,&quot;http://c.biancheng.net/python&quot;)
</code></pre>
<p>运行结果为：</p>
<blockquote>
<p>C语言中文网 http://c.biancheng.net<br />
Python教程 http://c.biancheng.net/python</p>
</blockquote>
<p>在实际编程中，几乎不会用到类方法和静态方法，因为我们完全可以使用函数代替它们实现想要的功能，但在一些特殊的场景中（例如工厂模式中），使用类方法和静态方法也是很不错的选择。</p>
<h3 id="__init__">__init__<a class="anchor-link" href="#__init__" title="Permanent link">&para;</a></h3>
<p>该方法是一个特殊的类实例方法，称为构造方法（或构造函数）。构造方法用于创建对象时使用，每当创建一个类的实例对象时，<a href="http://c.biancheng.net/python/">Python</a> 解释器都会自动调用它。</p>
<blockquote>
<p>仅包含 self 参数的 <strong>init</strong>() 构造方法，又称为类的默认构造方法。</p>
</blockquote>
<h3 id="python类对象的使用">Python类对象的使用<a class="anchor-link" href="#python类对象的使用" title="Permanent link">&para;</a></h3>
<p>定义的类只有进行实例化，也就是使用该类创建对象之后，才能得到利用。总的来说，实例化后的类对象可以执行以下操作：</p>
<ul>
<li>访问或修改类对象具有的实例变量，甚至可以添加新的实例变量或者删除已有的实例变量；</li>
<li>调用类对象的方法，包括调用现有的方法，以及给类对象动态添加方法。</li>
</ul>
<h3 id="self用法">self用法<a class="anchor-link" href="#self用法" title="Permanent link">&para;</a></h3>
<p>在定义类的过程中，无论是显式创建类的构造方法，还是向类中添加实例方法，都要求将 self 参数作为方法的第一个参数。例如，定义一个 Person 类：</p>
<pre><code class="language-python">class Person:
    def __init__(self):
        print(&quot;正在执行构造方法&quot;)
    # 定义一个study()实例方法
    def study(self,name):
        print(name,&quot;正在学Python&quot;)
</code></pre>
<p>事实上，Python 只是规定，无论是构造方法还是实例方法，最少要包含一个参数，并没有规定该参数的具体名称。之所以将其命名为 self，只是程序员之间约定俗成的一种习惯，遵守这个约定，可以使我们编写的代码具有更好的可读性（大家一看到 self，就知道它的作用）。</p>
<p>那么，self 参数的具体作用是什么呢？打个比方，如果把类比作造房子的图纸，那么类实例化后的对象是真正可以住的房子。根据一张图纸（类），我们可以设计出成千上万的房子（类对象），每个房子长相都是类似的（都有相同的类变量和类方法），但它们都有各自的主人，那么如何对它们进行区分呢？</p>
<p>当然是通过 self 参数，它就相当于每个房子的门钥匙，可以保证每个房子的主人仅能进入自己的房子（每个类对象只能调用自己的类变量和类方法）。</p>
<blockquote>
<p>Python 类方法中的 self 参数就相当于 C++ 中的 this 指针。</p>
</blockquote>
<p>也就是说，同一个类可以产生多个对象，当某个对象调用类方法时，该对象会把自身的引用作为第一个参数自动传给该方法，换句话说，Python 会自动绑定类方法的第一个参数指向调用该方法的对象。如此，Python解释器就能知道到底要操作哪个对象的方法了。</p>
<p>因此，程序在调用实例方法和构造方法时，不需要手动为第一个参数传值。例如，更改前面的 Person 类，如下所示：</p>
<pre><code class="language-python">class Person:
    def __init__(self):
        print(&quot;正在执行构造方法&quot;)
    # 定义一个study()实例方法
    def study(self):
        print(self,&quot;正在学Python&quot;)
zhangsan = Person()
zhangsan.study()
lisi = Person()
lisi.study()
</code></pre>
<p>上面代码中，study() 中的 self 代表该方法的调用者，即谁调用该方法，那么 self 就代表谁。因此，该程序的运行结果为：</p>
<blockquote>
<p>正在执行构造方法<br />
&lt;<strong>main</strong>.Person object at 0x0000021ADD7D21D0&gt; 正在学Python<br />
正在执行构造方法<br />
&lt;<strong>main</strong>.Person object at 0x0000021ADD7D2E48&gt; 正在学Python</p>
</blockquote>
<p>另外，对于构造函数中的 self 参数，其代表的是当前正在初始化的类对象。举个例子：</p>
<pre><code class="language-python">class Person:
    name = &quot;xxx&quot;
    def __init__(self,name):
        self.name=name
zhangsan = Person(&quot;zhangsan&quot;)
print(zhangsan.name)
lisi = Person(&quot;lisi&quot;)
print(lisi.name)
</code></pre>
<p>运行结果为：</p>
<blockquote>
<p>zhangsan<br />
lisi</p>
</blockquote>
<p>可以看到，zhangsan 在进行初始化时，调用的构造函数中 self 代表的是 zhangsan；而 lisi 在进行初始化时，调用的构造函数中 self 代表的是 lisi。</p>
<p>值得一提的是，除了类对象可以直接调用类方法，还有一种函数调用的方式，例如：</p>
<pre><code class="language-python">class Person:
    def who(self):
        print(self)
zhangsan = Person()
#第一种方式
zhangsan.who()
#第二种方式
who = zhangsan.who
who()#通过 who 变量调用zhangsan对象中的 who() 方法
</code></pre>
<p>运行结果为：</p>
<blockquote>
<p>&lt;<strong>main</strong>.Person object at 0x0000025C26F021D0&gt;<br />
&lt;<strong>main</strong>.Person object at 0x0000025C26F021D0&gt;</p>
</blockquote>
<p>显然，无论采用哪种方法，self 所表示的都是实际调用该方法的对象。</p>
<blockquote>
<p>总之，无论是类中的构造函数还是普通的类方法，实际调用它们的谁，则第一个参数 self 就代表谁。</p>
</blockquote>
<h3 id="super-函数">super() 函数<a class="anchor-link" href="#super-函数" title="Permanent link">&para;</a></h3>
<p><code>super()</code> 函数是用于调用父类(超类)的一个方法。</p>
<pre><code class="language-python">class Parent:  
    def greet(self):  
        print(&quot;Hello from Parent&quot;)  

class Child(Parent):  
    def greet(self):  
        super().greet()  # 调用父类的greet方法  
        print(&quot;Hello from Child&quot;)  

c = Child()  
c.greet()
</code></pre>
<p>运行结果为：</p>
<pre><code class="language-python">Hello from Parent  
Hello from Child
</code></pre>
<h3 id="访问可见性问题">访问可见性问题<a class="anchor-link" href="#访问可见性问题" title="Permanent link">&para;</a></h3>
<p>如果希望属性是私有的，在给属性命名时可以用<strong>两个下划线作为开头</strong>，下面的代码可以验证这一点。</p>
<pre><code class="language-Python">class Test:

    def __init__(self, foo):
        self.__foo = foo

    def __bar(self):
        print(self.__foo)
        print('__bar')


def main():
    test = Test('hello')
    # AttributeError: 'Test' object has no attribute '__bar'
    test.__bar()
    # AttributeError: 'Test' object has no attribute '__foo'
    print(test.__foo)


if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p>但是，Python并没有从语法上严格保证私有属性或方法的私密性，它只是给私有的属性和方法换了一个名字来妨碍对它们的访问，事实上如果你知道更换名字的规则仍然可以访问到它们，下面的代码就可以验证这一点。之所以这样设定，可以用这样一句名言加以解释，就是&quot;<strong>We are all consenting adults here</strong>&quot;。因为绝大多数程序员都认为开放比封闭要好，而且程序员要自己为自己的行为负责。</p>
<pre><code class="language-Python">class Test:

    def __init__(self, foo):
        self.__foo = foo

    def __bar(self):
        print(self.__foo)
        print('__bar')


def main():
    test = Test('hello')
    test._Test__bar()
    print(test._Test__foo)


if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p>在实际开发中，我们并不建议将属性设置为私有的，因为这会导致子类无法访问（后面会讲到）。所以大多数Python程序员会遵循一种命名惯例就是让属性名以单下划线开头来表示属性是受保护的，本类之外的代码在访问这样的属性时应该要保持慎重。这种做法并不是语法上的规则，单下划线开头的属性和方法外界仍然是可以访问的，所以更多的时候它是一种暗示或隐喻，关于这一点可以看看我的<a href="http://blog.csdn.net/jackfrued/article/details/79521404">《Python - 那些年我们踩过的那些坑》</a>文章中的讲解。</p>
<p>需要注意的是，在Python中，变量名类似__xxx__的，也就是以双下划线开头，并且以双下划线结尾的，是<strong>特殊变量</strong>，特殊变量是<strong>可以直接访问</strong>的，不是private变量，所以，不能用__name__、__score__这样的变量名。有些时候，你会看到以<strong>一个下划线开头</strong>的实例变量名，比如_name，这样的实例变量外部是可以访问的，但是，按照约定俗成的规定，当你看到这样的变量时，意思就是，“<strong>虽然我可以被访问，但是，请把我视为私有变量，不要随意访问</strong>”。</p>
<h3 id="面向对象的支柱">面向对象的支柱<a class="anchor-link" href="#面向对象的支柱" title="Permanent link">&para;</a></h3>
<p>面向对象有三大支柱：封装、继承和多态。后面两个概念在下一个章节中进行详细的说明，这里我们先说一下什么是封装。我自己对封装的理解是&quot;隐藏一切可以隐藏的实现细节，只向外界暴露（提供）简单的编程接口&quot;。我们在类中定义的方法其实就是把数据和对数据的操作封装起来了，在我们创建了对象之后，只需要给对象发送一个消息（调用方法）就可以执行方法中的代码，也就是说我们只需要知道方法的名字和传入的参数（方法的外部视图），而不需要知道方法内部的实现细节（方法的内部视图）。</p>
                </div>

                <!-- Comments Section (Giscus) -->
                <section class="comments-section">
                    <h3><i class="fas fa-comments"></i> 评论</h3>
                    <script src="https://giscus.app/client.js"
                        data-repo="Geeks-Z/Geeks-Z.github.io"
                        data-repo-id=""
                        data-category="Announcements"
                        data-category-id=""
                        data-mapping="pathname"
                        data-strict="0"
                        data-reactions-enabled="1"
                        data-emit-metadata="0"
                        data-input-position="bottom"
                        data-theme="preferred_color_scheme"
                        data-lang="zh-CN"
                        crossorigin="anonymous"
                        async>
                    </script>
                </section>
            </article>

            <footer class="post-footer">
                <p>© 2025 Hongwei Zhao. Built with ❤️</p>
            </footer>
        </main>
    </div>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="切换主题">
        <i class="fas fa-moon"></i>
    </button>

    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        const icon = themeToggle.querySelector('i');
        const hljsDark = document.getElementById('hljs-theme-dark');
        const hljsLight = document.getElementById('hljs-theme-light');
        
        // Check saved theme or system preference
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
            html.setAttribute('data-theme', 'dark');
            icon.className = 'fas fa-sun';
            hljsDark.disabled = false;
            hljsLight.disabled = true;
        }
        
        themeToggle.addEventListener('click', () => {
            const isDark = html.getAttribute('data-theme') === 'dark';
            if (isDark) {
                html.removeAttribute('data-theme');
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
                hljsDark.disabled = true;
                hljsLight.disabled = false;
            } else {
                html.setAttribute('data-theme', 'dark');
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
                hljsDark.disabled = false;
                hljsLight.disabled = true;
            }
            
            // Update Giscus theme
            const giscusFrame = document.querySelector('iframe.giscus-frame');
            if (giscusFrame) {
                giscusFrame.contentWindow.postMessage({
                    giscus: {
                        setConfig: {
                            theme: isDark ? 'light' : 'dark'
                        }
                    }
                }, 'https://giscus.app');
            }
        });
        
        // Highlight.js
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
        });
        
        // KaTeX auto-render
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof renderMathInElement !== 'undefined') {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false},
                        {left: '\\[', right: '\\]', display: true},
                        {left: '\\(', right: '\\)', display: false}
                    ],
                    throwOnError: false
                });
            }
        });
        
        // TOC active state
        const tocLinks = document.querySelectorAll('.toc-container a');
        const headings = document.querySelectorAll('.post-content h2, .post-content h3, .post-content h4');
        
        function updateTocActive() {
            let current = '';
            headings.forEach(heading => {
                const rect = heading.getBoundingClientRect();
                if (rect.top <= 100) {
                    current = heading.getAttribute('id');
                }
            });
            
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }
        
        window.addEventListener('scroll', updateTocActive);
        updateTocActive();
    </script>
</body>
</html>
